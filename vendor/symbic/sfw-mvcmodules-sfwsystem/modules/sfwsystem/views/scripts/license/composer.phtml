<?php
echo $this->partial('license/externals.phtml', 'sfwsystem');
?>

<table class="table table-striped">
	<thead>
		<tr>
			<th style="white-space: nowrap;">Name of External Part</th>
			<th>Description</th>
			<th>Website</th>
			<th>Authors</th>
			<th>License Type</th>
		</tr>
	</thead>
	<tbody>
		<?php foreach ($this->components as $component):?>
		<tr>
			<td style="white-space: nowrap;"><?php echo $this->escape($component['name']); ?></td>
			<?php $description = (isset($component['description']) ? $component['description'] : ''); ?>
			<td><?php echo $this->escape($description); ?></td>
			<?php
			$homepage = '';
			if(isset($component['homepage']))
			{
				$homepage = $component['homepage'];
			}
			else if (isset($component['source']['url']))
			{
				$homepage = $component['source']['url'];
			}
			?>
			<td style="white-space: nowrap;"><a href="<?php echo $this->escape($homepage); ?>"><?php echo $this->escape($homepage); ?></a></td>
			<?php
			$authors = '';
			$first = true;
			if(!empty($component['authors']) && is_array($component['authors']))
			{
				foreach ($component['authors'] as $author) {
					$seperator = ', ';
					if($first)
					{
						$seperator = '';
						$first = false;
					}
					$authors .= $seperator . $author['name'];
				}
			}
			?>
			<td><?php echo $this->escape($authors); ?></td>

			<?php
			$license = (isset($component['license']) && is_array($component['license']) ? implode(', ', $component['license']) : '');
			?>
			<td><?php echo $this->escape($license); ?></td>

		</tr>
		<?php endforeach; ?>
	</tbody>
</table>
