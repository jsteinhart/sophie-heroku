<?php
$this->headTitle('License', 'PREPEND');
$tabs = array();

$tabs[] = array(
	'name' 		=> 'licenseTab',
	'title' 	=> 'Application License',
	'body'		=> $this->partial(
						'license/system.phtml',
						'sfwsystem',
						array(
							'license' => $this->license,
						)
					),
	);

$subtabs = array();
if(!empty($this->parts))
{
	$i = 0;
	foreach ($this->parts as $part) {
		$i++;
		$subtabs[] = array(
			'name' => 'part'.$i.'Tab',
			'title' => $part['partName'],
			'body' => $this->partial(
				'license/part.phtml',
				'sfwsystem',
				array('part' => $part,))
			);
	}

$tabs[] = array(
	'name' 		=> 'a',
	'title' 	=> '<img src="/_media/Icons/package.png" alt="Externals"> Additional License Information',
	'body'		=> $this->partial('license/externals.phtml', 'sfwsystem') . $this->symbicTabContainer(uniqid(), $subtabs, reset($subtabs)['name'])
	);
}

if(!empty($this->composerComponents))
{
	$tabs[] = array('name' =>'composerTab', 'title'=>'<img src="/_media/Icons/brick.png" alt="Externals"> Composer License Information',
		'body' => $this->partial(
							'license/composer.phtml',
							'sfwsystem',
							array(
								'components' => $this->composerComponents,
							)
						)
	);
}

if(!empty($this->javascriptComponents))
{
	$tabs[] = array('name' =>'javascriptTab', 'title'=>'<img src="/_media/Icons/html.png" alt="Externals"> Components License Information',
		'body' => $this->partial(
							'license/javascript.phtml',
							'sfwsystem',
							array(
								'components' => $this->javascriptComponents,
							)
						)
	);
}


echo $this->symbicTabContainer(uniqid(), $tabs, 'licenseTab');

