<h1>Confirm Installation</h1>

<div>
  Configuration options are complete and the installation can proceed.
</div>

<h2>Database</h2>

<table class="table table-striped">
<tr><td>Host</td><td><?php echo $this->escape($this->config['dbconfig']['host']); ?></td></tr>
<tr><td>User</td><td><?php echo $this->escape($this->config['dbconfig']['username']); ?></td></tr>
<tr><td>Password</td><td>- not shown -</td></tr>
<tr><td>Database</td><td><?php echo $this->escape($this->config['dbconfig']['dbname']); ?></td></tr>
<tr><td>Procedure</td><td><?php if ($this->config['dbconfig']['populateSchema'] === '1') { echo 'Initialize Schema'; } else { echo 'Config only'; } ?></td></tr>
</table>

<h2>Mailserver</h2>

<table class="table table-striped">
	<tr><td>Type</td><td><?php echo $this->escape($this->config['mailconfig']['type']); ?></td></tr>
	<?php if ($this->config['mailconfig']['type'] == 'smtp') { ?>
	<tr><td>Host</td><td><?php echo $this->escape($this->config['mailconfig']['host']); ?></td></tr>
	<tr><td>Port</td><td><?php echo $this->escape($this->config['mailconfig']['port']); ?></td></tr>
	<?php if ($this->config['mailconfig']['ssl'] != '') { ?>
	<tr><td>Encryption</td><td><?php echo $this->escape($this->config['mailconfig']['ssl']); ?></td></tr>
	<?php if ($this->config['mailconfig']['auth'] != '') { ?>
	<tr><td>Authentication</td><td><?php echo $this->escape($this->config['mailconfig']['auth']); ?></td></tr>
	<tr><td>Username</td><td><?php echo $this->escape($this->config['mailconfig']['username']); ?></td></tr>
	<tr><td>Password</td><td>- not shown -</td></tr>
	<?php } ?>
	<?php } ?>
	<tr><td>System E-Mail</td><td><?php echo $this->escape($this->config['mailconfig']['defaultEmail']); ?></td></tr>
	<?php }?>
</table>

<h2>Admin User</h2>

<table class="table table-striped">
	<tr><td>Name</td><td><?php echo $this->escape($this->config['adminuser']['name']); ?></td></tr>
	<tr><td>E-Mail</td><td><?php echo $this->escape($this->config['adminuser']['email']); ?></td></tr>
<?php
if ($this->config['adminuser']['skip'] !== '1')
{
?>
	<tr><td>Username</td><td><?php echo $this->escape($this->config['adminuser']['username']); ?></td></tr>
	<tr><td>Password</td><td>- not shown -</td></tr>
<?php
}
?>
</table>

<?php
if ($this->config['dbconfig']['populateSchema'] === '1')
{
?>
<div class="alert alert-warning">
	Running the installation will install the database in <i><?php echo $this->escape($this->config['dbconfig']['dbname']); ?></i>. Existing tables will be dropped when the database is installed!
</div>
<?php
}

echo $this->form;