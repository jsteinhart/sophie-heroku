<?php
$module = 'sfwsysadmin';
$this->headLink()->appendStylesheet($this->sfwModuleAssetUrl('module.css', $module));
$this->inlineScript()->appendFile($this->sfwModuleAssetUrl('module.js', $module));

$this->headTitle('System Administration', 'PREPEND');
$this->headTitle('Installer', 'PREPEND');
$this->headTitle('Run Installer', 'PREPEND');

echo '<h1>Run Installer</h1>';

if (!empty($this->error))
{
	echo '<div class="alert alert-danger">' . $this->escape($this->error) . '</div>';
	return;
}

echo '<div class="alert alert-warning">This function is intended for System Administrators and Developers. Running this feature may break your system. Please do not use this function if you do not know what you are doing.</div>';

echo $this->form;

echo '<div id="installerLog" class="hidden"></div>';

if (isset($this->run) && $this->run === true)
{
	$this->jsOnLoad()->appendScript('sfwsysadmin.installerRuninstall();');
}